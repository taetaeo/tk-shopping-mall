# :shirt: ì˜¨ë¼ì¸ ì˜ë¥˜ ì‡¼í•‘ëª° í”„ë¡œì íŠ¸

## ğŸ“Œ Summary

**ì˜¨ë¼ì¸ ì˜ë¥˜ ì‡¼í•‘ëª° ì›¹ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.** í‰ì†Œ ì´ì»¤ë¨¸ìŠ¤ì™€ í”„ë¡ íŠ¸ì—”ë“œì— ê´€ì‹¬ì´ ë§ì•˜ê³ , ì €ì™€ ê°™ì€ ê´€ì‹¬ì‚¬ë¥¼ ê°€ì§„ ì‚¬ëŒë“¤ì—ê²Œ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ í•˜ëŠ” ë§ˆìŒìœ¼ë¡œ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤.

í˜¼ìì„œ êµ¬í˜„í–ˆê¸°ì—, ë¶€ì¡±í•œ BackEndë¥¼ Firebase ì„œë¹„ìŠ¤ë¥¼ í†µí•´ì„œ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œì„œ ë³´ì™„í•˜ì˜€ìŠµë‹ˆë‹¤. Firebaseë¥¼ ì²˜ìŒ ì‚¬ìš©í•˜ë©´ì„œ, Storeage, Firebase Auth ë“±ì˜ ê°œë…ì„ ê¹Šê²Œ ë‹¤ì§ˆìˆ˜ ìˆì—ˆê³  NoSQLë¥¼ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ë©´ì„œ ì´ˆê¸°ì— ë¹ ë¥´ê²Œ FEë§Œìœ¼ë¡œ í”„ë¡œí† íƒ€ì…ì„ ë§Œë“œëŠ”ê²Œ ë”ìš± ì˜ë¯¸ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

ìµœê·¼ì— RestApiì—ì„œ GraphQLì„ ì‚¬ìš©ì´ ì ì  ëŠ˜ì–´ë‚˜ë©´ì„œ, ì²˜ìŒìœ¼ë¡œ ì‚¬ìš©í•´ë³´ë©° Rest apië¥¼ í•˜ëŠ”ê²ƒê³¼ëŠ” ë‹¤ë¥´ê²Œ, URLì„ í†µí•´ ìš”ì²­í•˜ëŠ” ë°©ì‹ì´ ì•„ë‹Œ, í•˜ë‚˜ì˜ ì—”ë“œí¬ì¸íŠ¸ì— ìš”ì²­í•˜ëŠ” ì¿¼ë¦¬ì— ë”°ë¼ ë‹¤ë¥¸ ì‘ë‹µì„ ë°›ìœ¼ë©´ì„œ ì›í•˜ëŠ” ì‘ë‹µê°’ë§Œ ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. HTTP ìš”ì²­ íšŸìˆ˜ë¥¼ ì¤„ì´ê³ , ì‘ë‹µì‚¬ì´ì¦ˆë¥¼ ì¤„ì´ë©´ì„œ ë³´ë‹¤ ìœ ìš©ì„±ì„ ëŠë‚„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

#### \* ì£¼ìš” ê¸°ëŠ¥

- :white_check_mark: ì›í•˜ëŠ” ì¹´í…Œê³ ë¦¬ì— ë”°ë¼, ì¿¼ë¦¬ ìš”ì²­
- :white_check_mark: ìƒí’ˆ ë°ì´í„° ì¶”ê°€ / ì—…ë°ì´íŠ¸ / ì‚­ì œ ê¸°ëŠ¥
- :white_check_mark: ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ / ì—…ë°ì´íŠ¸ / ì‚­ì œ ê¸°ëŠ¥
- :white_check_mark: ìƒí’ˆ ë°ì´í„° ê²€ìƒ‰ ê¸°ëŠ¥
- :white_check_mark: ë¬´í•œ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥
- :white_check_mark: Firebase Authë¥¼ í†µí•œ ë¡œê·¸ì¸ ê¸°ëŠ¥

<br/>

## ğŸ¤” Background

í‰ì†Œ `29cm` ë¼ëŠ” ì˜ë¥˜ì‡¼í•‘ëª°ì„ ì¦ê²¨ ì°¾ì•„ë´…ë‹ˆë‹¤. ë‹¤ë¥¸ ì˜ë¥˜ ì‡¼í•‘ëª°ê³¼ ë¹„êµí–ˆì„ ë•Œ, ìƒí’ˆ í’ˆëª©ë“¤ì˜ ì¹´í…Œê³ ë¦¬ë¥¼ êµ¬ë¶„í•˜ëŠ” ê²ƒì— ì‹ ê¸°í•˜ê²Œ ëŠê¼ˆê³ , ë¬´ìˆ˜íˆ ë§ì€ ì¹´í…Œê³ ë¦¬ë¥¼ êµ¬ë¶„í•˜ì—¬ ìƒí’ˆì„ ìš”ì²­ ì¿¼ë¦¬ë¥¼ ë‹¤ë£¨ê³  í° ê¸°ëŠ¥ì´ë¼ í•  ìˆ˜ ì—†ì§€ë§Œ, ìœ ì €ë§ˆë‹¤ ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤ë©´ BEì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì´í•´ë„ ë  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì—¬ ì´ í”„ë¡œì íŠ¸ë¥¼ êµ¬ìƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ë°”ë¡œ ì´ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•˜ê²Œ ëœ ë°°ê²½ì…ë‹ˆë‹¤.

<br/>

## ğŸ” What I Learned

í”„ë¡ íŠ¸ì—”ë“œë§Œ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©° ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•´ë³´ê¸°ì—ëŠ” ë°±ì—”ë“œì— ëŒ€í•œ ê³µë¶€ê°€ ë¶€ë‹´ì´ì—ˆê³ , ì´ë²ˆì— Firebaseë¥¼ ê³µë¶€í•˜ë©´ì„œ, í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì—ê²ŒëŠ” ì •ë§ í•„ìš”í•œ ì„œë¹„ìŠ¤ê² ë‹¤ëŠ” ìƒê°ì„ í•˜ì˜€ìŠµë‹ˆë‹¤.

- ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•´ ì„œë²„ê°€ í•„ìš”í•  ë•Œ, Firebaseë¥¼ ì‚¬ìš©í•˜ë©´ ì´ˆê¸°ì— ë¹ ë¥´ê²Œ í”„ë¡œí† íƒ€ì…ì„ ë§Œë“¤ê¸°ì— ìœ ìš©í•©ë‹ˆë‹¤.
- í•˜ì§€ë§Œ, Firebaseì—ëŠ” ìŠ¤í‚¤ë§ˆê°€ ì—†ê¸° ë•Œë¬¸ì—, ë°ì´í„° ê´€ë¦¬ê°€ ì‰½ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ë°ì´í„° ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ìˆ˜ ìˆëŠ” GraphQLì„ í™œìš©í•˜ë©´ ì´ë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
- ë˜í•œ, Next.JSë¡œ ëœ í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒ ì§„í–‰í•´ë³´ë©´ì„œ CSRê³¼ SSRì˜ ì°¨ì´ì™€ ëª©ì ì— ë§ê²Œ ì ì ˆí•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- ë‹¨ìˆœíˆ Reactë¡œ ëœ CSRì˜ ê²½ìš° ì²« í˜ì´ì§€ì˜ ë¡œë”©ì‹œê°„ì´ SSRë¡œ êµ¬í˜„í•œ Nextë³´ë‹¤ëŠ” ëŠë ¸ì§€ë§Œ, CSRì€ ì´ë¯¸ ë‚˜ë¨¸ì§€ ì½”ë“œë¥¼ ë°›ì•„ì™”ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ í˜ì´ì§€ ì´ë™ì‹œ ë¹ ë¥´ê²Œ ëŠê¼ˆì§€ë§Œ, SSRë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì²« í˜ì´ì§€ë¥¼ ë¡œë”©í•œ ê³¼ì •ì„ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ì„œ ì¡°ê¸ˆ ë” ëŠë¦°ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- í•˜ì§€ë§Œ, SEO(ê²€ìƒ‰ìµœì í™”)ë¥¼ ìœ„í•´ì„œëŠ” SSRì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìœ ë¦¬í•˜ê³ , ì •í™•íˆ ì–´ë–¤ ì‚¬ìš© ëª©ì ì— ë”°ë¼ CSRê³¼ SSRì„ ë‚˜ëˆ ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´, ìƒí’ˆ í˜ì´ì§€ ê°™ì€ ê²½ìš° ì‚¬ìš©ìë“¤ì„ ìœ„í•œ SEOë¥¼ ê³ ë ¤í•´ì•¼í•˜ì§€ë§Œ, ì–´ë“œë¯¼ í˜ì´ì§€ ê°™ì€ ê²½ìš°ëŠ” ë°˜ë“œì‹œ SEOë¥¼ ê³ ë ¤í•  í•„ìš”ê°€ ì—†ë‹¤ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.
- React-Queryì— onMutateë¥¼ ë” ê¹Šì´ ë°°ì›Œë³´ë©´ì„œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ì— ëŒ€í•´ì„œ ë°°ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

<br/>

## :hammer_and_pick: êµ¬í˜„ ê²°ê³¼

### 1. Home í˜ì´ì§€

[](https://user-images.githubusercontent.com/75871005/205482297-436cb3a8-c303-4915-916b-c0a6956da5db.mp4)

### 2. ë¡œê·¸ì¸

[](https://user-images.githubusercontent.com/75871005/205482288-7f937f47-5d40-47f7-b76a-9c485ea9bd11.mp4)

### 3. ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€

[](https://user-images.githubusercontent.com/75871005/205481937-5f1e103c-93f9-4b01-8c66-bcccb3103b16.mp4)

### 4. ê²€ìƒ‰ í˜ì´ì§€

[](https://user-images.githubusercontent.com/75871005/205482282-88ed9545-f1e0-4835-9443-c8b286612998.mp4)

<br/>

---

<br/>

## :diamond_shape_with_a_dot_inside: í”„ë¡œì íŠ¸ ì†Œê°œ

### INTRO

> ê°œìš” : ê°œì¸ í”„ë¡œì íŠ¸
>
> ì£¼ì œ : ì˜¨ë¼ì¸ ì˜ë¥˜ ì‡¼í•‘ëª° í”„ë¡œì íŠ¸
>
> ì°¸ì—¬ : 2022.11.21 ~ ì§„í–‰ì¤‘

<br/>

## 1. ì»¨ë²¤ì…˜ ê·œì¹™

### 1.1. ì»¤ë°‹ ì»¨ë²¤ì…˜

```
feat: íŒŒì¼, í´ë”, ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix:  ë²„ê·¸ ìˆ˜ì •
style:  ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½
docs: ë¬¸ì„œ ìƒì„±, ì¶”ê°€, ìˆ˜ì •(README.md)
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
chore: ì½”ë“œ ìˆ˜ì • (JSON ë°ì´í„° í¬ë§· ë³€ê²½ / scss ë³€ê²½ ë“±)
```

### 1.2. ë¸Œëœì¹˜ ì»¨ë²¤ì…˜

```
ì‹ ê·œ: new-something-you-made
ìˆ˜ì •: fix-something-you-fixed
ê°œì„ : improve-something-you-made-better
```

### 1.3. í´ë” êµ¬ì¡° ë° íŒŒì¼ëª… ê·œì¹™

#### 1) client

```
base : í”„ë¡œì íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ì´ ë˜ëŠ” UIë¥¼ ë‹´ë‹¹.
common : í”„ë¡œì íŠ¸ì˜ ë°”íƒ•ì´ ë˜ëŠ” ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹´ë‹¹.
layouts : í”„ë¡œì íŠ¸ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë ˆì´ì•„ì›ƒì„ ë‹´ë‹¹.
sections : í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¨í…ì¸ ë‹¨ìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹´ë‹¹.(í˜ì´ì§€ì—ì„œëŠ” ë‹¨ìˆœ ë¼ìš°íŒ…ë§Œ ì—­í• í•˜ê¸° ìœ„í•¨)
hooks : ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” hookì„ ë‹´ë‹¹.
pages : ì‚¬ì´íŠ¸ì˜ í˜ì´ì§€ ë¼ìš°íŒ…ì„ ë‹´ë‹¹.
graphql : graphql ìŠ¤í‚¤ë§ˆ ë‹´ë‹¹
service : queryê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ (react-query/graphql-request)
recoil : ì „ì—­ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ í´ë” (recoil-atom/selector)
style : ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” GlobalStylesì™€ themeë¥¼ ë‹´ë‹¹
types : í”„ë¡œì íŠ¸ì˜ ì „ë°˜ì ì¸ íƒ€ì…ë“¤ì„ ë‹´ë‹¹.
utils : í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìƒìˆ˜(constants)ë‚˜ í•„ìš”í•œ í•¨ìˆ˜(helpers)ë¥¼ ë‹´ë‹¹.
```

#### 2) server

```
schema : graphql typeDefsë¥¼ ìœ„í•œ ìŠ¤í‚¤ë§ˆ
resolvers : graphql resolver ë‹´ë‹¹
```

- [ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëª… íŒŒì¼ ê·œì¹™](https://ko.reactjs.org/docs/jsx-in-depth.html)

<br/>

## 2. í”„ë¡œì íŠ¸ ì†Œê°œ

### 2.1. í”„ë¡œì íŠ¸ WBS

- [ë°”ë¡œê°€ê¸°](https://docs.google.com/spreadsheets/d/1XaWRekIx5GMchi2f3PrSywzf7jBCQiZEsGKb7RUZp00/edit#gid=1644897215)

### 2.2. í”„ë¡œì íŠ¸ ì„¤ê³„

- í™”ë©´ ì„¤ê³„ë„ : [ë°”ë¡œê°€ê¸°](https://drive.google.com/drive/folders/1w4hMgzquPP3F-zXKSzbkaD0Ty4e6EFIv)

### 2.3. í”„ë¡œì íŠ¸ ìš”ì•½

#### 2.3.1. ê¸°ìˆ  ìŠ¤íƒ

- Language : React.js, Typescript
- FrameWork : Next.js
- Server-state : React-Query(CRUD), GraphQL
- Database : Firebase
- style : CSS in JS (styled-components)

#### 2.3.2. í”„ë¡œì íŠ¸ íë¦„ë„

![](https://user-images.githubusercontent.com/75871005/205483544-119d090f-368b-45f2-a1be-3989bbc8d639.png)

#### 2.3.3. í˜ì´ì§€ êµ¬ì„±

```
í™ˆ : '/'
ë§ˆì´í˜ì´ì§€ : '/mypage',
ë¡œê·¸ì¸í˜ì´ì§€ : '/signin',
íšŒì›ê°€ì…í˜ì´ì§€ : '/signup',
ë‚¨ì ìƒí’ˆ ì „ì²´ í˜ì´ì§€ : 'shop/category?list=men&category_code=m_all'
ì—¬ì ìƒí’ˆ ì „ì²´ í˜ì´ì§€ : 'shop/category?list=women&category_code=w_all'
ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ : '/cart',
ì£¼ë¬¸ì¡°íšŒ í˜ì´ì§€ : '/mypage/orders',
ì¢‹ì•„ìš” í˜ì´ì§€ :'/mypage/likes',
ì´ë²¤íŠ¸ í˜ì´ì§€ : '/event'
ìƒì„¸ í˜ì´ì§€ : '/detail/:id'
ê²€ìƒ‰ í˜ì´ì§€ : '/search'
ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ : '/search/keyword'
1:1 ë¬¸ì˜ í˜ì´ì§€ : '/qna/
```

### 2.4 ë°ì´í„° ìŠ¤í‚¤ë§ˆ

#### 2.4.1. server

##### 1) Product Schema

```typescript
  type Category {
    category_lg: String!
    category_md: String!
    category_sm: String!
  }
  type Product {
    id: ID!
    brand: String!
    name: String!
    image_url: String!
    origin_price: Int!
    discount: Int!
    category: Category!
    createdAt: Float!
  }
```

_**ì¹´í…Œê³ ë¦¬**_

1. `category_lg` : men / women ëŒ€ë¶„ë¥˜

2. `category_md` : top / bottom / outer ë“± ì¤‘ë¶„ë¥˜

3. `category_sm` : long / short / hoody ë“± ì†Œë¶„ë¥˜

##### 2) cart Schema

```typescript
  type CartItem {
    id: ID!
    amount: Int!
    uid: String!
    createdAt: Float!
    product: Product!
  }
```

1. `uid` : firebase Authenticationì—ì„œ ì œê³µí•˜ëŠ” ê³ ìœ ì˜ `uid`
2. `product` : ìƒí’ˆ ìŠ¤í‚¤ë§ˆì˜ íƒ€ì…

#### 3) search Schema

```typescript
  type Search {
    id: ID!
    product: Product!
  }

  extend type Query {
    searchItems(keyword: String!, cursor: ID): [Product!]
    searchBrand(keyword: String!): [String]
  }
```

1. ` searchItems` : ê²€ìƒ‰ keywordë¥¼ ê¸°ì¤€ìœ¼ë¡œ productë¥¼ ë‚´ë³´ë‚´ì£¼ë„ë¡ êµ¬í˜„
2. `searchBrand` : ê²€ìƒ‰ í‚¤ì›Œë“œ ë³€ê²½ì‹œì—, ì¶”ì²œ ë¸Œëœë“œë¥¼ ë‚˜íƒ€ë‚´ì£¼ê¸° ìœ„í•œ, ì¶”ì²œ Brandê°€ ë³´ì—¬ì§€ë„ë¡ êµ¬í˜„

#### 4) Event Schema

```typescript
  type Event {
    id: ID!
    image_main: String
    image_lg: String
    image_md: String
    image_thumb: String
    createdAt: Float!
  }

  extend type Query {
    events: [Event!]
    event(id: ID!): Event!
  }
```

1. `image_main` : `/` ê²½ë¡œì˜ ìŠ¬ë¼ì´ë“œì— ë“¤ì–´ê°ˆ ì´ë¯¸ì§€ URL
2. `image_lg` : `/` ê²½ë¡œì— ë“¤ì–´ê°ˆ Event ë°ì´í„°
3. `image_thumb` : `/event` í˜ì´ì§€ì— ë“¤ì–´ê°ˆ ì¸ë„¤ì¼ ì´ë¯¸ì§€ URL
4. `image_lg` : `/evnet:id` í˜ì´ì§€ì— ë“¤ì–´ê°ˆ ì´ë¯¸ì§€ URL

<br/>

#### 2.4.2. client

##### 1) Product Schema

```typescript
query GET_PRODUCTS {
    products {
      id
      brand
      name
      image_url
      origin_price
      discount
      createdAt
      category {
        category_lg
        category_md
        category_sm
      }
    }
  }
```

- ìƒí’ˆ ì „ì²´ ë°ì´í„°ë¥¼ í˜¸ì¶œ

```typescript
  query GET_PRODUCT($id: ID!) {
    product(id: $id) {
      id
      brand
      name
      image_url
      origin_price
      discount
      createdAt
      category {
        category_lg
        category_md
        category_sm
      }
    }
  }
```

- `id` ê°’ argì— ë”°ë¥¸ idê°’ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ë§Œ í˜¸ì¶œ

```typescript
  query GET_SELECTED_PRODUCT(
    $category_lg: String!
    $category_md: String
    $category_sm: String
    $cursor: ID
  ) {
    selectedProducts(
      category_lg: $category_lg
      category_md: $category_md
      category_sm: $category_sm
      cursor: $cursor
    ) {
      id
      brand
      name
      image_url
      origin_price
      discount
      createdAt
      category {
        category_lg
        category_md
        category_sm
      }
    }
  }
```

- `category_lg(ëŒ€ë¶„ë¥˜) / category_md(ì¤‘ë¶„ë¥˜) / category_sm(ì†Œë¶„ë¥˜)` argì— ë”°ë¥¸, íŠ¹ì • ì¹´í…Œê³ ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜¤ë„ë¡ í˜¸ì¶œ
- `cursor` : í˜¸ì¶œëœ ë§ˆì§€ë§‰ ìƒí’ˆì˜ `id`ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ìŒ ë°ì´í„°ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•œ, í˜ì´ì§€ë„¤ì´ì…˜

```javascript
 mutation ADD_PRODUCT(
    $brand: String!
    $name: String!
    $image_url: String!
    $origin_price: Int!
    $discount: Int!
    $category_lg: String!
    $category_md: String!
    $category_sm: String!
  ) {
    addProduct(
      brand: $brand
      name: $name
      image_url: $image_url
      origin_price: $origin_price
      discount: $discount
      category_lg: $category_lg
      category_md: $category_md
      category_sm: $category_sm
    ) {
      brand
      name
      image_url
      origin_price
      discount
      category_lg
      category_md
      category_sm
    }
  }
```

- ìƒí’ˆ ë°ì´í„° ì¶”ê°€ ìš”ì²­ì„ ìœ„í•œ mutation graphql
- `Product` ìŠ¤í‚¤ë§ˆì— ë“¤ì–´ê°ˆ ë°ì´í„°ë¥¼ ì „í•´ì¤€ë‹¤.

##### 2) Cart Schema

```ty
  mutation ADD_CART($id: ID!, $count: Int, $uid: String!) {
    addCart(productId: $id, count: $count, uid: $uid) {
      id
      amount
      uid
      createdAt
      product {
        id
        brand
        name
        image_url
        origin_price
        discount
        createdAt
        category {
          category_lg
          category_md
          category_sm
        }
      }
    }
  }
```

- Firebase Authì—ì„œ ì œê³µí•˜ëŠ” userì˜ dataì— ìˆëŠ” ê³ ìœ ì˜ `uid` ê°’ì„ ì „ë‹¬í•˜ì—¬, ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ cart ë°ì´í„°ë¥¼ í˜¸ì¶œí•  ì‹œ, `uid`ì— ë§ëŠ” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•¨ì´ë‹¤

##### 3) Search Schema

```typescript
  query GET_SEARCH_ITEMS($keyword: String!, $cursor: ID) {
    searchItems(keyword: $keyword, cursor: $cursor) {
      id
      brand
      name
      image_url
      origin_price
      discount
      createdAt
      category {
        category_lg
        category_md
        category_sm
      }
    }
  }
```

- `keyword`ë¥¼ ë°›ê²Œ ë˜ë©´, `Product` ë°ì´í„°ë¥¼ í˜¸ì¶œí•œë‹¤.
- `cursor` : ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ `/search/:id` ì— ë¬´í•œ ìŠ¤í¬ë¡¤ì„ ì ìš©í•˜ë„ë¡ í•˜ê¸° ìœ„í•œ ì•„ê·œë¨¼íŠ¸ì´ë‹¤.

<br/>

## 3. ê°œë°œ í•˜ì´ë¼ì´íŠ¸

- í´ë” êµ¬ì¡° ì„¸ë¶„í™”
- ë¦¬íŒ©í† ë§ì„ ì—¼ë‘í•˜ë©´ì„œ, í´ë¦° ì½”ë”©ì„ ì´ˆì ìœ¼ë¡œ ë‘”ë‹¤.
- ì¬ì‚¬ìš©ì„±ì„ ê³ ë ¤í•˜ì—¬ ìì£¼ ì“°ì´ëŠ” ê¸°ëŠ¥ë“¤ì€ ì»¤ìŠ¤í…€ ë˜ëŠ” ë”°ë¡œ í´ë” êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ì„œ ê´€ë¦¬ì— ìš©ì´í•˜ë„ë¡ í•œë‹¤. - [ë°”ë¡œê°€ê¸°](https://github.com/ohtaekwon/shoppingmall/issues/1)
- ìƒí’ˆí˜ì´ì§€ ì¹´í…Œê³ ë¦¬ë¥¼ ëŒ€ë¶„ë¥˜, ì¤‘ë¶„ë¥˜, ì†Œë¶„ë¥˜ë¡œ ë‚˜ëˆ„ì–´ ë™ì ë¼ìš°íŒ… êµ¬ì„±í•œ ìƒí’ˆ ë°ì´í„° íŒ¨ì¹­ - [ì½”ë“œë³´ê¸°](https://github.com/ohtaekwon/shoppingmall/blob/main/client/pages/shop/category/list/index.tsx)
- ë¬´í•œìŠ¤í¬ë¡¤ í›…ì„ í†µí•œ ìƒí’ˆí˜ì´ì§€ / ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ì—ì„œ ìƒí’ˆ ì ìš© - [ì½”ë“œë³´ê¸°](https://github.com/ohtaekwon/shoppingmall/blob/main/client/hook/useInterSection.ts)
- react-query ë‚™ê´€ì ì—…ë°ì´íŠ¸ë¥¼ ì ìš©í•œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ë° ìˆ˜ëŸ‰ ì—…ë°ì´íŠ¸ - [ì½”ë“œ ë³´ê¸°](https://github.com/ohtaekwon/shoppingmall/blob/main/client/components/sections/cart/item.tsx)

### 3.1. ë¯¸êµ¬í˜„ ì‚¬í•­

#### 1) Firebase-Admin

- ë¡œê·¸ì¸ ì•„ì´ë””ì— ë”°ë¼ì„œ, adminê³¼ clientë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´, firebase-adminìœ¼ë¡œ adminì— ë§ëŠ” í˜ì´ì§€ êµ¬í˜„

<br/>

## 4. ê°œë°œ íšŒê³  ë° ì •ë¦¬

|     |                                                          |                                                                                                                                                                                                                                                                               |
| --- | -------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1.  | Reactì˜ **SSR** í”„ë ˆì„ì›Œí¬ì¸ Next.js ë¥¼ ì„ íƒí•˜ê²Œ ëœ ì´ìœ  | 1) [ë² ë¡œê·¸ ë°”ë¡œê°€ê¸°](https://velog.io/@taetae-5/%EB%82%98%EC%9D%98-%EA%B0%9C%EB%B0%9C%EC%9D%BC%EC%A7%80-ch1.-Next.js-%EC%84%A0%ED%83%9D)                                                                                                                                      |
| 2.  | Next.jsì˜ ë°ì´í„° íŒ¨ì¹­ ë°©ì‹                               | 1) [ë²¨ë¡œê·¸ ë°”ë¡œê°€ê¸°](https://velog.io/@taetae-5/%EB%82%98%EC%9D%98-%EA%B0%9C%EB%B0%9C%EC%9D%BC%EC%A7%80-2.-Next.js%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%ED%8C%A8%EC%B9%AD-%EB%B0%A9%EC%8B%9D)<br />2) [ì´ìŠˆ ë°”ë¡œê°€ê¸°](https://github.com/shop-caffeine/caffeine_fo/issues/29) |
| 3.  | graphql & firebase ì—°ë™                                  | 1) [ë²¨ë¡œê·¸ ë°”ë¡œê°€ê¸°](https://velog.io/@taetae-5/%EC%87%BC%ED%95%91%EB%AA%B0-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-1-graphql-firebase)                                                                                                                                          |
| 4   | ë¬´í•œ ìŠ¤í¬ë¡¤                                              | ì—…ë¡œë“œ ì˜ˆì •                                                                                                                                                                                                                                                                   |
| 5   | Firebase Auth                                            | ì—…ë¡œë“œ ì˜ˆì •                                                                                                                                                                                                                                                                   |
| 6   | ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€                                            | ì—…ë¡œë“œ ì˜ˆì •                                                                                                                                                                                                                                                                   |

<br/>

## 5. ì‹¤í–‰ ë°©ë²•

#### 1) ì„¤ì¹˜

```bash
npm i ë˜ëŠ” npm install
yarn
```

#### 2) ì‹¤í–‰

```bash
# 1. client
cd client
yarn
yarn run dev

# 2. server
cd server
yarn
yarn run dev
```
